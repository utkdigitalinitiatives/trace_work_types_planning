Article Work Type
=================

About
-----

This work type represents PDF objects from our institutional repository where the object is a scholarly work like a:

* Publisher's version
* Preprint
* Postprint

Content of this work type should meet the
`Google Scholar inclusion guidelines <https://scholar.google.com/intl/en/scholar/inclusion.html>`_ and be discoverable
in Google Scholar.

These object should always have:

1. The original object uploaded by the user.
2. Descriptive metadata and metatags that match the first page of the document.
3. Any attached supplemental files that were added by the author.

Migration Scope
---------------

Current items in Digital Commons with an xpath of :code:`fields/field[@name="peer_reviewed"]` will get this type.

We will also select specific collections in series across the repository to migrate as this work type.

Only objects whose primary file is :code:`PDF` should get this work type.

Suggested Actions
-----------------

1. Only objects whose primary file type :code:`PDF` should be migrated as this work type.
2. Since objects may be a pre-print or a version not created by the publisher, we should add a cover page to these with matching descriptive metadata for Google Scholar inclusion.
3. We will provide the vendor for migration pages without the cover page.
4. We will keep all associated supplemental files.

Example
-------

For this example, let's use the contents of :code:`https://trace.tennessee.edu/utk_chempubs/45`:

.. code-block:: text

    metadata.xml
    oneal.pdf
    stamped.pdf

This object includes a descriptive metadata file, the original file uploaded by the author, and a copy of the file with
a cover page.

PCDM Model for Fedora
---------------------

==============
The Whole Work
==============

The object should be a :code:`pcdmworks:Work` and describe its relationship to its files along with its descriptive
metadata elements.


.. code-block:: turtle

    @prefix pcdm: <http://pcdm.org/models#> .
    @prefix pcdmuse: <http://pcdm.org/2015/05/12/use> .
    @prefix pcdmworks: <http://pcdm.org/2016/02/16/works> .

    <http://localhost/sample-scholarly-work> a pcdmworks:Work ;
        <http://purl.org/dc/terms/title> "Competing magnetostructural phases in a semiclassical system" ;
        pcdm:hasFile <http://localhost/sample_article_file_1>, <http://localhost/sample_article_file_2>, <http://localhost/sample_article_file_3> .

==========================
The Original Uploaded File
==========================

The original uploaded file representing this work should be a :code:`pcdmuse:OriginalFile`.

.. code-block:: turtle

    @prefix pcdm: <http://pcdm.org/models#> .
    @prefix pcdmuse: <http://pcdm.org/2015/05/12/use> .
    @prefix pcdmworks: <http://pcdm.org/2016/02/16/works> .

    <http://localhost/sample_article_file_1> a pcdmuse:OriginalFile ;
        rdfs:label "oneal.pdf" ;
        pcdm:fileOf <http://localhost/sample-scholarly-work> .

We should keep the original uploaded document pre-migration.

========================================
Drop Stamped File and Generate a New One
========================================

The stamped file has 2 cover pages generated by DigitalCommons. The cover pages are useful for indexing (see
`Monica Westin's Presentation <https://www.carl-abrc.ca/wp-content/uploads/2021/01/Google_Scholar_webinar_Jan2021.pdf>`_
in that it adds things that Google Scholar expects to check against metatags for indexing, but it refers to our current
repository on the first two pages.

.. image:: ../images/cover_page_urls.png
    :alt: Example Urls on First Cover page

If we keep these cover pages, those links could be problematic in the future.  It is a better practice to generate a new
file with a cover page using the original uploaded file.

The newly generated file should look like this.  It should be a :code:`pcdmuse:IntermediateFile` if we use it for a IIIF viewer.

.. code-block:: turtle

    @prefix pcdm: <http://pcdm.org/models#> .
    @prefix pcdmuse: <http://pcdm.org/2015/05/12/use> .
    @prefix pcdmworks: <http://pcdm.org/2016/02/16/works> .

    <http://localhost/sample_article_file_2> a pcdmuse:PreservationFile, pcdmuse:IntermediateFile ;
        rdfs:label "cover_page_oneal.pdf" ;
        pcdm:fileOf <http://localhost/sample-scholarly_work> .

======================
Original Metadata File
======================

We want to keep the original metadata in case there are questions about the migration or something that originally existed
but not appearing in the metadata here.

Ideally, this would not be available to users (at least in the GUI).

.. code-block:: turtle

    @prefix pcdm: <http://pcdm.org/models#> .
    @prefix pcdmuse: <http://pcdm.org/2015/05/12/use> .
    @prefix pcdmworks: <http://pcdm.org/2016/02/16/works> .

    <http://localhost/sample_article_file_3> a pcdm:File ;
        rdfs:label "metadata.xml" ;
        pcdm:fileOf <http://localhost/sample-scholarly-work> .

==================
Supplemental Files
==================

Articles can have supplemental files that we want to make available to users.

While this object does not have one, we would model it like this if it did:

.. code-block:: turtle

    @prefix pcdm: <http://pcdm.org/models#> .
    @prefix pcdmuse: <http://pcdm.org/2015/05/12/use> .
    @prefix pcdmworks: <http://pcdm.org/2016/02/16/works> .
    @prefix dcterms: <http://purl.org/dc/terms/> .
    @prefix fabio: <http://purl.org/spar/fabio/> .

    <http://localhost/sample_article_file_4> a pcdmuse:OriginalFile, fabio:SupplementaryInformation  ;
        rdfs:label "Supplemental_File_1.fasta" ;
        dcterms:description "JCVI-CMR Catalase Database (FASTA format)" ;
        dcterms:format "text/plain" ;
        pcdm:fileOf <http://localhost/sample-scholarly-work> .


User Expectations
-----------------

The user should see a thumbnail, the title, and other pertinent metadata defined in our metadata mapping.

Restricted files should be appropriately restricted.

Unrestricted files should be available beneathe the metadata.

Although not shown here, we would love a IIIF viewer with a representation of the :code:`pcdmuse:IntermediateFile` based
on canvases generated from each page.

.. image:: ../images/Article_view.png
    :width: 600
    :Alt: Wireframe of a Sample Article

Google Scholar
--------------

In order to insure discoverability in Google Scholar, :code:`highwire press meta tags` should be used and a corresponding
cover page should be generated.

.. code-block:: xml

    <meta name="citation_title" content="Competing magnetostructural phases in a semiclassical system">
    <meta name="citation_author" content="O'Neal, Kenneth R.">
    <meta name="citation_author" content="Lee, Jun Hee">
    <meta name="citation_author" content="Kim, Maeng-Suk">
    <meta name="citation_author" content="Manson, Jamie L.">
    <meta name="citation_author" content="Liu, Zhenxian">
    <meta name="citation_author" content="Fishman, Randy S.">
    <meta name="citation_author" content="Musfeldt, Janice L.">
    <meta name="citation_publication_date" content="2017" />
    <meta name="citation_doi" content="10.1038/s41535-017-0065-0">
    <meta name="citation_pdf_url" content="http://our-future-repository.utk.edu/downloads/sample_article_file_2" />
    <meta name="citation_journal_title" content="npj Quantum Materials"/>

Descriptive Metadata Mapping
----------------------------

+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| Name               | Display Label      | Property                                       | Description                                                                                                                                                             | Required | Obligation | Admin only | Facetable | Brief Results | Vocab                                                                              | Syntax    | Metatags                                 |
+====================+====================+================================================+=========================================================================================================================================================================+==========+============+============+===========+===============+====================================================================================+===========+==========================================+
| abstract           | Abstract           | http://purl.org/dc/terms/abstract              | A summary of the resource.                                                                                                                                              | Required | 1-n        | no         | no        | yes           | none                                                                               |           | citation_abstract, dcterms_abstract      |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| author             | Author             | http://id.loc.gov/vocabulary/relators/aut      | The characters that should be displayed after a person's name                                                                                                           | Required | 1-n        | no         | yes       | yes           |                                                                                    |           | citation_author                          |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| classification     | Classification     | https://dbpedia.org/ontology/classification    | A string representing a class or category the resource is assigned to for browsing purposes                                                                             | Required | 1          | no         | yes       | no            | local                                                                              |           |                                          |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| college            | College            | https://dbpedia.org/ontology/college           | The college associated with the resource's creator.                                                                                                                     | Optional | 0-n        | no         | yes       | no            | local                                                                              |           |                                          |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| discipline         | Discipline         | http://dbpedia.org/ontology/academicDiscipline | A concept that identifies a field of knowledge or human activity defined in a controlled vocabulary, such as Computer Science, Biology, Economics, Cookery or Swimming. | Required | 1-n        | no         | yes       | no            | Bepress vocabulary?                                                                |           | citation_keywords                        |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| doi                | DOI                | http://purl.org/ontology/bibo/doi              | A DOI (Digital Object Identifier), a unique identifier for this resource.                                                                                               | no       | 0-1        | no         | no        | no            |                                                                                    |           | citation_doi                             |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| date_embargo       | Embargo Date       | http://purl.org/spar/fabio/hasEmbargoDate      | The date before which an entity should not be published, or before which a press release should not be reported on.                                                     | Optional | 0-1        | no         | no        | no            |                                                                                    | ISO-8601  |                                          |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| journal_issue      | Journal Issue      | http://purl.org/ontology/bibo/issue            | Issue number of the journal                                                                                                                                             | Optional | 0-1        | no         |           |               |                                                                                    |           | citation_issue                           |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| journal_page_end   | Journal page end   | http://purl.org/ontology/bibo/pageEnd          | Page end                                                                                                                                                                | Optional | 0-1        | no         |           |               |                                                                                    |           | citation_lastpage                        |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| journal_page_start | Journal page start | http://purl.org/ontology/bibo/pageStart        | Page start                                                                                                                                                              | Optional | 0-1        | no         |           |               |                                                                                    |           | citation_firstpage                       |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| journal_volume     | Journal Volume     | http://purl.org/ontology/bibo/volume           | Volume number of the journal                                                                                                                                            | Optional | 0-1        | no         |           |               |                                                                                    |           | citation_volume                          |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| keywords           | Keyword            | https://w3id.org/idsa/core/keyword             | Keywords that describe the nature, purpose, or use of the content.                                                                                                      | Required | 1-n        | no         | no        | no            | none                                                                               |           | citation_keywords                        |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| notes              | Note               | http://www.w3.org/2004/02/skos/core#note       | A general note, for any purpose.                                                                                                                                        | Optional | 0-n        | no         | no        | no            | none                                                                               |           |                                          |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| orcidID            | Orcid ID           | http://purl.org/cerif/frapo/hasORCID           | An ORCID identifier (not the URL) of a researcher                                                                                                                       | Optional | 0-n        | no         | no        | no            |                                                                                    | ORCID URL | citation_author_orcid                    |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| date_publication   | Publication Date   | http://purl.org/dc/terms/issued                | Date of formal issuance of the resource.                                                                                                                                | Required | 1          | no         | yes       | no            |                                                                                    | ISO-8601  | citation_date, citation_publication_date |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| resource_type      | Resource Type      | http://purl.org/dc/terms/type                  | The nature or genre of the resource.                                                                                                                                    | Required | 1          | no         | yes       | no            | COAR (https://vocabularies.coar-repositories.org/resource_types/resource_types.nt) |           | dcterms:type                             |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| subject            | Subject            | http://purl.org/dc/terms/subject               | A topic of the resource.                                                                                                                                                | Optional | 0-n        | no         | yes       | no            | FAST                                                                               |           | citation_keywords                        |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| date_submission    | Submission Date    | http://purl.org/dc/terms/dateSubmitted         | Date of submission of the resource.                                                                                                                                     | Required | 1          | no         | no        | no            |                                                                                    | ISO-8601  |                                          |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| title              | Title              | http://purl.org/dc/terms/title                 | A name given to the resource.                                                                                                                                           | Required | 1          | no         | no        | yes           | none                                                                               |           | citation_title                           |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+
| language           | Language           | http://purl.org/dc/terms/language              | The language of the resource.                                                                                                                                           | Optional | 0-n        | no         |           |               |                                                                                    |           | citation_language                        |
+--------------------+--------------------+------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------+------------+-----------+---------------+------------------------------------------------------------------------------------+-----------+------------------------------------------+

Other Things to Think About
---------------------------

======================================
Properly Tagged but Unindexed Articles
======================================

Here is a `article <https://cdr.lib.unc.edu/concern/articles/d217qv80b?locale=en>`_ from UNC's repository. Like other
items of this work type, it has the appropriate :code:`highwire press` metatags:

.. code-block:: xml

    <meta name="citation_title" content="Remdesivir and COVID-19" />
    <meta name="citation_author" content="Edwards, Jessie K." />
    <meta name="citation_author" content="Cole, Stephen R." />
    <meta name="citation_author" content="Adimora, Adaora A." />
    <meta name="citation_publication_date" content="2020" />
    <meta name="citation_pdf_url" content="http://cdr.lib.unc.edu/downloads/1544bw020" />
    <meta name="citation_journal_title" content="The Lancet"/>
    <meta name="citation_volume" content="396"/>
    <meta name="citation_issue" content="10256"/>
    <meta name="citation_firstpage" content="953"/>
    <meta name="citation_lastpage" content=""/>

Interestingly, this version of this work is not in Google Scholar. Most objects of this type from this repostiory are in
Google Scholar. `Mark <https://github.com/markpbaggett>`_ thinks this is likely due to Google Scholar being unable to
confirm the content in the metatags when it reads the PDF.  We should think about this and how it relates to our
repository. See `Monica Westin's presentation <https://www.carl-abrc.ca/wp-content/uploads/2021/01/Google_Scholar_webinar_Jan2021.pdf>`_
for more details.
